<div class="workflow-details-container">
  <div class="details-label">
    <div class="label-left">
      <button
        class="navigate-back-btn"
        type="button"
        (click)="backToWorkflows()">
        <img
          src="/assets/icons/navigate-back-logo.svg"
          class="navigate-back-icon"
          alt="export Icon" />
      </button>
      <div>
        {{ workflow?.name }}
      </div>
      <ng-container *ngIf="workflow?.enabled; else inactiveLogo">
        <img
          src="assets/icons/active-logo.svg"
          alt="Active Icon"
          class="status-icon" />
      </ng-container>
      <ng-template #inactiveLogo>
        <img
          src="assets/icons/inactive-logo.svg"
          alt="Inactive Icon"
          class="status-icon" />
      </ng-template>
    </div>
  </div>

  <div class="navigate-btn-container">
    <button
      class="navigate-btn"
      (click)="selectTab('general')"
      [class.active-btn]="selectedTab === 'general'">
      General
    </button>
    <button
      class="navigate-btn"
      (click)="selectTab('workflow')"
      [class.active-btn]="selectedTab === 'workflow'">
      Workflow Settings
    </button>
    <button
      class="navigate-btn"
      (click)="selectTab('history')"
      [class.active-btn]="selectedTab === 'history'">
      Deliveries
    </button>
  </div>

  <ng-container *ngIf="selectedTab === 'general'">
    <app-workflow-general
      [workflow]="workflow"
      [workflowCopy]="workflowCopy"
      [emails]="emails"
      (workflowEmailEvent)="workflowEmailSettings($event)"
      (updateWorkflowEvent)="updateWorkflow($event)"></app-workflow-general>
  </ng-container>

  <ng-container *ngIf="selectedTab === 'history'">
    <app-workflow-history> </app-workflow-history>
  </ng-container>

  <ng-container *ngIf="selectedTab === 'workflow'">
    <app-workflow-settings [workflowId]="workflowId"> </app-workflow-settings>
  </ng-container>
</div>
