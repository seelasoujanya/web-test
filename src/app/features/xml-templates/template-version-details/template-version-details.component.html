<div class="templates-container">
  <div class="left-container">
    <div class="heading">
      <p class="label">XML Templates</p>
      <img src="/assets/icons/plus-icon.svg" />
    </div>
    <div
      *ngFor="let template of xmlTemplatesById; let i = index"
      style="margin-top: 5px">
      <span class="version-number" (click)="selectTemplate(i)">
        Version {{ i + 1 }}
      </span>
      <br />
      <span class="time">
        {{ template.template.created | date: 'yyyy-MM-dd' }} -
        {{ template.template.created | date: 'HH:mm' }}
      </span>
    </div>
  </div>
  <div class="right-container">
    <div class="heading">
      <p class="label">DDEX ERN</p>
      <div class="buttons">
        <button class="edit-btn" (click)="isEditableTemplate()">
          <img
            src="/assets/icons/edit-icon.svg"
            alt="export Icon"
            class="edit-icon" />
        </button>
        <!-- <button class="compare-btn" (click)="openCompareDialog(compareTemplateForm)">Compare</button> -->
        <button
          class="save-as-btn"
          [disabled]="!isEditable"
          [ngClass]="{ 'not-allowed': !isEditable }"
          (click)="editTemplate()">
          Save
        </button>
      </div>
    </div>
    <div class="template">
      <form [formGroup]="reactiveForm" class="form">
        <ngx-monaco-editor
          #monacoEditor
          [options]="editorOptions"
          formControlName="code"
          (init)="editorInit($event)">
        </ngx-monaco-editor>
      </form>
    </div>
  </div>
</div>

<ng-template #compareTemplateForm class="modal-content">
  <div class="header">
    <p class="header_title">Compare Changes</p>
    <button type="button" class="header_close-btn" (click)="closeModal()">
      <img src="assets/icons/close-circle.svg" alt="" />
    </button>
  </div>
  <div class="form-details">
    <div class="workflow-field">
      <ng-select
        [items]="templateNames"
        placeholder="Select Template"
        [searchable]="false"
        [clearable]="false"
        [(ngModel)]="compareTemplate.template">
      </ng-select>
      <!-- <ng-select placeholder="Select Template" [searchable]="false" [clearable]="false">
            </ng-select> -->
    </div>
  </div>
  <div class="buttons">
    <button class="cancel-btn" (click)="closeModal()">CANCEL</button>
    <button class="confirm-btn" (click)="compareChanges()">COMPARE</button>
  </div>
</ng-template>
