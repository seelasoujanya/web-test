<div class="monitor-component">
  <div class="monitor-heading-section">
    <div class="monitor-label">
      <p>Monitor</p>
    </div>
  </div>

  <div class="navigate-btn-container">
    <button
      class="navigate-btn"
      (click)="updateParams('RUNNING')"
      [class.active-btn]="pageParams.status === 'RUNNING'">
      Processing - {{ runningInstancesCount }}
    </button>
    <button
      class="navigate-btn"
      (click)="updateParams('PENDING')"
      [class.active-btn]="pageParams.status === 'PENDING'">
      Pending - {{ pendingInstancesCount }}
    </button>
  </div>

  <div class="monitor-instance-table">
    <table class="table-container">
      <thead class="table-head">
        <tr>
          <th *ngFor="let heading of headings" class="table-header-cell">
            {{ heading }}
          </th>
        </tr>
      </thead>
      <tbody class="scrollable-table__body">
        <ng-container *ngFor="let instance of instances">
          <tr>
            <td class="table-cell">{{ instance.id }}</td>
            <td class="table-cell">{{ instance.workflow.name }}</td>
            <td class="table-cell">{{ instance.identifier }}</td>
            <td class="table-cell">
              {{ instance.created | date: 'yyyy-MM-dd' }}<br />
              <span class="time">{{ instance.created | date: 'HH:mm' }}</span>
            </td>
            <td class="table-cell">
              <div class="expanded-row">
                <button
                  class="cancel-button"
                  type="button"
                  (click)="terminateInstance(instance.id)">
                  CANCEL
                </button>
              </div>
            </td>
          </tr>
        </ng-container>
      </tbody>
    </table>
  </div>
</div>

<div class="page-view">
  <app-pagination
    [page]="page"
    (paginationEvent)="onPage($event)"></app-pagination>
</div>
